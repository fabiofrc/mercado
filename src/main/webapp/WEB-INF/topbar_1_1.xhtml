<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <b:navBar inverse="true" fixed="top" fluid="false" style="background: red;border: 1px solid green;" >
        <h:form>
            <b:navbarLinks>
                <b:navCommandLink icon-awesome="fa-cart-arrow-down" value="MERCADO" outcome="/Home" style="color: white;"/>
                <b:dropMenu value="mais" icon-awesome="fa-config" rendered="#{seguranca.gerenciarConteudoPermitido}" style="color: white;">
                    <b:dropMenu value="Usuário" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{usuarioController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{usuarioController.lista()}"/>
                        <b:navCommandLink value="email" action="#{enviaUsuarioEmailBean.novoEmail()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Pessoa Física" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{pessoaFisicaController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{pessoaFisicaController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Pessoa Juridica" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{pessoaJuridicaController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{pessoaJuridicaController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Endereço" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{enderecoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{enderecoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Grupo" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{grupoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{grupoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Categoria" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{categoriaController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{categoriaController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="SubCategoria" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{subCategoriaController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{subCategoriaController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Projeto" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{projetoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{projetoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Produto" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{produtoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{produtoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Pedido" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="lista" action="#{pedidoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Item de Pedido" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="lista" action="#{pedidoItemController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Arquivo" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{arquivoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{arquivoController.listar()}"/>
                        <b:navCommandLink value="visualizar" action="#{arquivoController.viewTudo()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Comentário" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{comentarioController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{comentarioController.lista()}"/>
                        <b:navCommandLink value="visualizar" action="#{comentarioController.comentariosDetalhes()}"/>
                        <b:navCommandLink value="gráfico" action="#{comentarioController.grafico()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="Promocao" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="novo" action="#{promocaoController.novo()}"/>
                        <b:navCommandLink value="lista" action="#{promocaoController.lista()}"/>
                    </b:dropMenu>

                    <b:navLink></b:navLink>
                    <b:dropMenu value="DASHBOARD" iconAwesome="plus" iconAlign="right">
                        <b:navCommandLink value="dashbord" action="#{dashboardControlller.dashboard()}" immediate="true"/>
                    </b:dropMenu>
                </b:dropMenu>
            </b:navbarLinks>

            <b:navbarLinks rendered="#{seguranca.usuarioLogado ne null}">
                <b:dropMenu value="#{seguranca.nomeUsuario}" style="color: white;">
                    <b:navCommandLink value="meus dados" action="#{pessoaFisicaController.editarPerfil()}"
                                      icon-awesome="fa-pencil" rendered="#{seguranca.gerenciarConteudoPerfilPermitido}"/>

                    <b:navCommandLink value="meus dados" action="#{pessoaJuridicaController.meusDados()}"
                                      icon-awesome="fa-pencil" rendered="#{seguranca.gerenciarPerfilPermitidoPessoaJuridica}"/>
                    <b:navCommandLink icon-awesome="fa-user" value="sair" action="#{loginBean.logout()}"/>
                </b:dropMenu>
            </b:navbarLinks>
        </h:form>

        <center>
            <p:inputText value=""/>
        </center>



        <h:form styleClass="navbar-form navbar-right" >
            <div class="form-group">
                <p:commandLink id="cesta">
                    <i class="fa fa-cart-arrow-down" style="color: white;font-size: 20pt;">
                        <b:label text="#{pedidoController.carrinho.pedidoItems.size()}" severity="danger" style="font-size: 10px;"/>
                    </i>
                </p:commandLink>

                <p:overlayPanel id="imagePanel" for="cesta" showEffect="blind" dynamic="true"
                                hideEffect="explode" showEvent="mouseover" hideEvent="mousedown"
                                dismissable="false" showCloseIcon="true">

                    <p:repeat value="#{pedidoController.carrinho.pedidoItems}" var="c" >
                        <h:panelGrid columns="2">
                            <p:graphicImage value="#{produtoController.image1}" width="30" height="30">
                                <f:param name="id" value="#{c.produto.id}"/>
                            </p:graphicImage>
                            <h:outputText value="#{c.produto.titulo}" style="font-size: 10pt;"/>
                        </h:panelGrid>
                        <hr/>
                    </p:repeat>

                    <center>
                        <p:commandLink value="minha cesta" action="#{pedidoController.novoPedido()}" 
                                       immediate="true"/>
                    </center>
                </p:overlayPanel>
            </div>
        </h:form>
    </b:navBar>


    <h:form styleClass="navbar-form navbar-right" rendered="#{seguranca.usuarioLogado == null}">
        <div class="form-group">
            <b:commandLink outcome="/paginas/plb/pessoa_fisica/cadastro" immediate="true" 
                           value="Cadastre-se" look="default" icon-awesome="fa-envelope-o" iconAlign="right" >
                <f:ajax listener="#{pessoaFisicaController.limpaCampoParticipante()}"/>
            </b:commandLink>
        </div> 
        <div class="form-group">
            <b:commandLink outcome="/login" immediate="true"
                           value="Login" look="default" icon-awesome="fa-user" iconAlign="right" />
        </div>
    </h:form>


</ui:composition>