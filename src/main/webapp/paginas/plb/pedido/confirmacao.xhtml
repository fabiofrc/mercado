<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../../../WEB-INF/template-pagamento.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="conteudo-pagamento">
        <b:messages />
        <h:form>


            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-lg-6">
                    <h2>Resumo do pedido</h2>
                    <p:repeat value="#{pedidoController.carrinho.pedidoItems}" var="g">
                        <b:panelGrid col-spans="6,6" >
                            <h:outputText value="Produto "/>
                            <h:outputText value="#{g.produto.nome}" />
                            <h:outputText value="Valor unit. " />
                            <h:outputText value="#{g.produto.precoTotal}" style="color: red;">
                                <f:convertNumber type="currency" currencySymbol="R$ " />
                            </h:outputText>
                            <h:outputText value="Quant. " />
                            <p:outputLabel value="#{g.quantidade}" />
                        </b:panelGrid>
                        <hr/>
                    </p:repeat>

                    <b:panelGrid columns="2">
                        <h:outputText value="Total: " style="font-weight: bold;color: red;"/>
                        <h:outputText value="#{pedidoController.carrinho.valorSubtotal}" 
                                      style="font-weight: bold;color: green;">
                            <f:convertNumber type="currency" currencySymbol="R$ " />
                        </h:outputText>
                    </b:panelGrid>
                </div>
            </div>

            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-lg-6">
                    <b:panelGrid col-spans="12">
                        <p:outputLabel value="Formas de pagamento" />
                        <h:outputText value="#{pedidoController.carrinho.formaPagamento}"/>
                    </b:panelGrid>  
                </div>

                <div class="ui-g-12 ui-lg-6">
                    <b:panelGrid col-spans="12">
                        <p:outputLabel value="Formas de pagamento" />
                        <h:outputText value="#{pedidoController.carrinho.formaPagamento}"/>
                    </b:panelGrid> 
                </div>
            </div>

            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-lg-6">
                    <p:commandButton value="ESCOLHER PRODUTOS" ajax="false"
                                     action="#{produtoController.visualisarProdutos()}" 
                                     icon="fa fa-suitcase" 
                                     style="margin-bottom:10px;height:40px;width: 100%;" 
                                     styleClass="pink-btn raised-btn rounded-btn"/>
                </div>

                <div class="ui-g-12 ui-lg-6">
                    <p:commandButton value="CONFIRMAR" ajax="false"
                                     action="#{pedidoController.salvar()}" 
                                     icon="fa fa-check" 
                                     style="margin-bottom:10px;height:40px;width: 100%;" 
                                     styleClass="green-btn raised-btn rounded-btn"/>
                </div>
            </div>

        </h:form>

    </ui:define>
</ui:composition>